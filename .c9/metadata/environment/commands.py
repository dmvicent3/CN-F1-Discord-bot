{"changed":false,"filter":false,"title":"commands.py","tooltip":"/commands.py","value":"#import fastf1\nimport requests\nfrom tabulate import tabulate\n\n#API: http://ergast.com/mrd/\n#FAST-F1 DOCS: https://theoehrly.github.io/Fast-F1/examples/index.html\n\nasync def get_drivers_standings(message):\n    url = \"https://ergast.com/api/f1/current/driverStandings.json\"\n    response = requests.get(url, timeout=5)\n    data = response.json()\n    drivers_standings = data['MRData']['StandingsTable']['StandingsLists'][0]['DriverStandings']\n    \n    table_data = []\n    for driver in drivers_standings:\n        position = driver['position']\n        nationality = driver['Driver']['nationality']\n        flag = flags.get(nationality, \"\")\n        driver_name = flag + ' ' + driver['Driver']['givenName'] + ' ' + driver['Driver']['familyName']\n        team = driver['Constructors'][0]['name']\n        points = driver['points']\n        table_data.append([position, driver_name, team, points])\n    \n    headers = ['#', 'Driver', 'Team', 'Points']\n    table_str = tabulate(table_data, headers=headers, tablefmt='pretty')\n    await message.channel.send(f'{table_str}')\n\n# Define the commands dictionary\ncommands = {\n    'drivers': get_drivers_standings,\n    # Add more commands here as needed\n}\n\n# Map each nationality to its corresponding flag emoji\nflags = {\n    \"British\": \"ğŸ‡¬ğŸ‡§\",\n    \"German\": \"ğŸ‡©ğŸ‡ª\",\n    \"Finnish\": \"ğŸ‡«ğŸ‡®\",\n    \"Australian\": \"ğŸ‡¦ğŸ‡º\",\n    \"Mexican\": \"ğŸ‡²ğŸ‡½\",\n    \"Spanish\": \"ğŸ‡ªğŸ‡¸\",\n    \"Canadian\": \"ğŸ‡¨ğŸ‡¦\",\n    \"Monegasque\": \"ğŸ‡²ğŸ‡¨\",\n    \"French\": \"ğŸ‡«ğŸ‡·\",\n    \"Danish\": \"ğŸ‡©ğŸ‡°\",\n    \"Thai\": \"ğŸ‡¹ğŸ‡­\",\n    \"Japanese\": \"ğŸ‡¯ğŸ‡µ\",\n    \"American\": \"ğŸ‡ºğŸ‡¸\",\n    \"Chinese\": \"ğŸ‡¨ğŸ‡³\",\n    \"Dutch\": \"ğŸ‡³ğŸ‡±\",\n    \"Russian\": \"ğŸ‡·ğŸ‡º\",\n    \"Brazilian\": \"ğŸ‡§ğŸ‡·\",\n    \"Italian\": \"ğŸ‡®ğŸ‡¹\",\n    \"Swiss\": \"ğŸ‡¨ğŸ‡­\",\n    \"Belgian\": \"ğŸ‡§ğŸ‡ª\",\n    \"Polish\": \"ğŸ‡µğŸ‡±\",\n    \"Argentine\": \"ğŸ‡¦ğŸ‡·\",\n    \"Swedish\": \"ğŸ‡¸ğŸ‡ª\",\n    \"New Zealander\": \"ğŸ‡³ğŸ‡¿\",\n    \"Austrian\": \"ğŸ‡¦ğŸ‡¹\",\n    \"Colombian\": \"ğŸ‡¨ğŸ‡´\",\n    \"Venezuelan\": \"ğŸ‡»ğŸ‡ª\",\n    \"Indonesian\": \"ğŸ‡®ğŸ‡©\",\n    \"Liechtensteiner\": \"ğŸ‡±ğŸ‡®\",\n    \"Mauritian\": \"ğŸ‡²ğŸ‡º\",\n    \"Portuguese\": \"ğŸ‡µğŸ‡¹\",\n    \"MonÃ©gasque\": \"ğŸ‡²ğŸ‡¨\",\n    \"South African\": \"ğŸ‡¿ğŸ‡¦\",\n    \"Irish\": \"ğŸ‡®ğŸ‡ª\",\n    \"Jordanian\": \"ğŸ‡¯ğŸ‡´\",\n    \"Malaysian\": \"ğŸ‡²ğŸ‡¾\",\n    \"Indian\": \"ğŸ‡®ğŸ‡³\",\n    \"San Marino\": \"ğŸ‡¸ğŸ‡²\",\n    \"Uruguayan\": \"ğŸ‡ºğŸ‡¾\",\n    \"Hungarian\": \"ğŸ‡­ğŸ‡º\",\n    \"Czech\": \"ğŸ‡¨ğŸ‡¿\",\n    \"Estonian\": \"ğŸ‡ªğŸ‡ª\",\n    \"Romanian\": \"ğŸ‡·ğŸ‡´\",\n    \"Israeli\": \"ğŸ‡®ğŸ‡±\",\n    \"Bahraini\": \"ğŸ‡§ğŸ‡­\",\n    \"Chinese-Taipei\": \"ğŸ‡¹ğŸ‡¼\",\n    \"Slovak\": \"ğŸ‡¸ğŸ‡°\",\n    \"Norwegian\": \"ğŸ‡³ğŸ‡´\",\n    \"Icelandic\": \"ğŸ‡®ğŸ‡¸\",\n    \"Latvian\": \"ğŸ‡±ğŸ‡»\",\n    \"Costa Rican\": \"ğŸ‡¨ğŸ‡·\",\n    \"Lebanese\": \"ğŸ‡±ğŸ‡§\",\n    \"Turkish\": \"ğŸ‡¹ğŸ‡·\",\n    \"Zimbabwean\": \"ğŸ‡¿ğŸ‡¼\",\n    \"Zambian\": \"ğŸ‡¿ğŸ‡²\"\n}","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":1251,"scrollleft":0,"selection":{"start":{"row":4,"column":5},"end":{"row":4,"column":28},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":68,"state":"start","mode":"ace/mode/python"}},"timestamp":1681462898944}